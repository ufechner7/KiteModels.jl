<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SymbolicAWEModel · KiteModels.jl</title><meta name="title" content="SymbolicAWEModel · KiteModels.jl"/><meta property="og:title" content="SymbolicAWEModel · KiteModels.jl"/><meta property="twitter:title" content="SymbolicAWEModel · KiteModels.jl"/><meta name="description" content="Documentation for KiteModels.jl."/><meta property="og:description" content="Documentation for KiteModels.jl."/><meta property="twitter:description" content="Documentation for KiteModels.jl."/><meta property="og:url" content="https://OpenSourceAWE.github.io/KiteModels.jl/ram_air_kite/"/><meta property="twitter:url" content="https://OpenSourceAWE.github.io/KiteModels.jl/ram_air_kite/"/><link rel="canonical" href="https://OpenSourceAWE.github.io/KiteModels.jl/ram_air_kite/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="KiteModels.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">KiteModels.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../functions/">Functions</a></li><li class="is-active"><a class="tocitem" href>SymbolicAWEModel</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Workflow"><span>Workflow</span></a></li><li><a class="tocitem" href="#Public-enumerations"><span>Public enumerations</span></a></li><li><a class="tocitem" href="#Public-constructors"><span>Public constructors</span></a></li><li><a class="tocitem" href="#Private-functions"><span>Private functions</span></a></li></ul></li><li><a class="tocitem" href="../parameters/">Parameters</a></li><li><a class="tocitem" href="../examples/">Examples 1p</a></li><li><a class="tocitem" href="../examples_4p/">Examples 4p</a></li><li><a class="tocitem" href="../examples_ram_air/">Examples SymbolicAWEModel</a></li><li><a class="tocitem" href="../tutorial_system_structure/">SystemStructure for custom models</a></li><li><a class="tocitem" href="../quickstart/">Quickstart</a></li><li><a class="tocitem" href="../advanced/">Advanced usage</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>SymbolicAWEModel</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>SymbolicAWEModel</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/OpenSourceAWE/KiteModels.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/main/docs/src/ram_air_kite.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>The <a href="#KiteModels.SystemStructure"><code>SystemStructure</code></a> provides a flexible framework for defining the physical structure of airborne wind energy (AWE) systems using discrete mass-spring-damper models. This structure can represent many different AWE system configurations, from simple single-line kites to complex multi-wing systems with intricate bridle networks.</p><p>The <a href="#KiteModels.SystemStructure"><code>SystemStructure</code></a> serves as input to the <a href="../types/#KiteModels.SymbolicAWEModel"><code>SymbolicAWEModel</code></a>, which is based on ModelingToolkit and automatically generates symbolic differential algebraic equations from the structural definition.</p><h2 id="Workflow"><a class="docs-heading-anchor" href="#Workflow">Workflow</a><a id="Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Workflow" title="Permalink"></a></h2><ol><li>Define system components (<a href="#KiteModels.Point"><code>Point</code></a>, <a href="#KiteModels.Segment"><code>Segment</code></a>, <a href="#KiteModels.Group"><code>Group</code></a>, etc.) </li><li>Assemble into a <a href="#KiteModels.SystemStructure"><code>SystemStructure</code></a></li><li>Pass to <a href="../types/#KiteModels.SymbolicAWEModel"><code>SymbolicAWEModel</code></a> for automatic MTK model generation</li><li>Simulate the resulting symbolic model</li></ol><h2 id="Public-enumerations"><a class="docs-heading-anchor" href="#Public-enumerations">Public enumerations</a><a id="Public-enumerations-1"></a><a class="docs-heading-anchor-permalink" href="#Public-enumerations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.SegmentType" href="#KiteModels.SegmentType"><code>KiteModels.SegmentType</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SegmentType `POWER_LINE` `STEERING_LINE` `BRIDLE`</code></pre><p>Type of segment.</p><p><strong>Elements</strong></p><ul><li>POWER_LINE: Belongs to a power line</li><li>STEERING_LINE: Belongs to a steering line</li><li>BRIDLE: Belongs to the bridle</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L14-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.DynamicsType" href="#KiteModels.DynamicsType"><code>KiteModels.DynamicsType</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DynamicsType `DYNAMIC` `QUASI_STATIC` `WING` `STATIC`</code></pre><p>Enumeration of the models that are attached to a point.</p><p><strong>Elements</strong></p><ul><li>DYNAMIC: Belongs to a dynamic tether model</li><li>QUASI_STATIC: Belongs to a quasi static tether model</li><li>WING: Connected to the rigid wing body</li><li>STATIC: Does not change position</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L30-L40">source</a></section></article><h2 id="Public-constructors"><a class="docs-heading-anchor" href="#Public-constructors">Public constructors</a><a id="Public-constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Public-constructors" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.SystemStructure-Tuple{Any, Any}" href="#KiteModels.SystemStructure-Tuple{Any, Any}"><code>KiteModels.SystemStructure</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SystemStructure(name, set; points=Point[], groups=Group[], segments=Segment[], 
               pulleys=Pulley[], tethers=Tether[], winches=Winch[], 
               wings=Wing[], transforms=Transform[])</code></pre><p>Constructs a SystemStructure object representing a complete kite system using a discrete mass-spring-damper model.</p><p><strong>Components</strong></p><ul><li><strong>Points</strong> - See <a href="#KiteModels.Point"><code>Point</code></a> for discrete mass dynamics</li><li><strong>Segments</strong> - See <a href="#KiteModels.Segment"><code>Segment</code></a> for elastic spring-damper connections  </li><li><strong>Groups</strong> - See <a href="#KiteModels.Group"><code>Group</code></a> for wing twist deformation modeling</li><li><strong>Wings</strong> - See <a href="#KiteModels.Wing"><code>Wing</code></a> for rigid body dynamics</li><li><strong>Pulleys</strong> - See <a href="#KiteModels.Pulley"><code>Pulley</code></a> for length redistribution between segments</li><li><strong>Tethers</strong> - See <a href="../#Tether"><code>Tether</code></a> for segment groups with shared unstretched length</li><li><strong>Winches</strong> - See <a href="#KiteModels.Winch"><code>Winch</code></a> for ground-based tether length control</li><li><strong>Transforms</strong> - See <a href="#KiteModels.Transform"><code>Transform</code></a> for initial positioning and orientation</li></ul><p><strong>Physical Models</strong></p><ul><li><strong>&quot;ram&quot;</strong>: 4 deformable wing groups, complex pulley bridle system</li><li><strong>&quot;simple_ram&quot;</strong>: 4 deformable wing groups, direct bridle connections</li></ul><p><strong>Arguments</strong></p><ul><li><code>name::String</code>: Model identifier. &quot;ram&quot; and &quot;simple_ram&quot; are defined inside KiteModels.jl, provide a different name for a custom model.</li><li><code>set::Settings</code>: Configuration parameters (see <a href="https://ufechner7.github.io/KiteUtils.jl/stable/types/#KiteUtils.Settings">KiteUtils.Settings</a>)</li></ul><p><strong>Returns</strong></p><ul><li><code>SystemStructure</code>: Complete system ready for building a <a href="../types/#KiteModels.SymbolicAWEModel"><code>SymbolicAWEModel</code></a></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Auto-generate from wing geometry
wing = RamAirWing(set)
sys_struct = SystemStructure(set, wing)

# Manual construction
points = [Point(1, [0,0,0], STATIC), Point(2, [0,0,10], DYNAMIC)]
segments = [Segment(1, (1,2), BRIDLE)]
sys_struct = SystemStructure(&quot;custom&quot;, set; points, segments)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L672-L712">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.SystemStructure" href="#KiteModels.SystemStructure"><code>KiteModels.SystemStructure</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct SystemStructure</code></pre><p>A discrete mass-spring-damper representation of a kite system, where point masses  connected by elastic segments model the kite and tether dynamics.</p><p><strong>Components</strong></p><ul><li><a href="#KiteModels.Point"><code>Point</code></a>: Point masses representing wing attachment points, dynamic bridle/tether points, and fixed ground anchors</li><li><a href="#KiteModels.Group"><code>Group</code></a>: Collections of points that move together according to wing deformation (twist and trailing edge deflection)</li><li><a href="#KiteModels.Segment"><code>Segment</code></a>: Spring-damper elements connecting points</li><li><a href="#KiteModels.Pulley"><code>Pulley</code></a>: Elements that redistribute line lengths between segments</li><li><a href="../#Tether"><code>Tether</code></a>: Groups of segments with a common unstretched length</li><li><a href="#KiteModels.Winch"><code>Winch</code></a>: Ground-based winches that control tether lengths</li><li><a href="#KiteModels.Wing"><code>Wing</code></a>: Rigid wing bodies that serve as reference frames</li><li><a href="#KiteModels.Transform"><code>Transform</code></a>: Spatial transformations for initial positioning and orientation</li></ul><p>See the individual component documentation for detailed mathematical models and governing equations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L638-L655">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.SymbolicAWEModel-Tuple{Settings, SystemStructure, Vector{&lt;:BodyAerodynamics}, Vector{&lt;:Solver}}" href="#KiteModels.SymbolicAWEModel-Tuple{Settings, SystemStructure, Vector{&lt;:BodyAerodynamics}, Vector{&lt;:Solver}}"><code>KiteModels.SymbolicAWEModel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SymbolicAWEModel(set::Settings, sys_struct::SystemStructure, 
                 vsm_aeros::Vector{&lt;:BodyAerodynamics}=BodyAerodynamics[], 
                 vsm_solvers::Vector{&lt;:VortexStepMethod.Solver}=VortexStepMethod.Solver[])</code></pre><p>Constructs a SymbolicAWEModel that can generate ModelingToolkit equations from the discrete mass-spring-damper representation defined in the <a href="#KiteModels.SystemStructure"><code>SystemStructure</code></a>. The aerodynamic models provide forces and moments acting on wing components.</p><p><strong>Arguments</strong></p><ul><li><code>set::Settings</code>: Configuration parameters (see <a href="https://ufechner7.github.io/KiteUtils.jl/stable/types/#KiteUtils.Settings">KiteUtils.Settings</a>)</li><li><code>sys_struct::SystemStructure</code>: Physical system definition with points, segments, groups, etc.</li><li><code>vsm_aeros::Vector{&lt;:BodyAerodynamics}=BodyAerodynamics[]</code>: Aerodynamic models for each wing</li><li><code>vsm_solvers::Vector{&lt;:VortexStepMethod.Solver}=VortexStepMethod.Solver[]</code>: VSM solvers for aerodynamic calculations</li></ul><p><strong>Returns</strong></p><ul><li><code>SymbolicAWEModel</code>: Model ready for symbolic equation generation via <a href="../functions/#KiteModels.init_sim!"><code>init_sim!</code></a></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Create wing geometry and aerodynamics
set = se()
wing = RamAirWing(set)
aero = BodyAerodynamics([wing])
solver = Solver(aero; solver_type=NONLIN)

# Create system structure
sys_struct = SystemStructure(set, wing)

# Create symbolic model
model = SymbolicAWEModel(set, sys_struct, [aero], [solver])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/symbolic_awe_model.jl#L100-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.SymbolicAWEModel-Tuple{Settings}" href="#KiteModels.SymbolicAWEModel-Tuple{Settings}"><code>KiteModels.SymbolicAWEModel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SymbolicAWEModel(set::Settings)</code></pre><p>Constructs a default SymbolicAWEModel with automatically generated components.</p><p>This convenience constructor creates a complete AWE model using default configurations:</p><ul><li>Generates a ram-air wing from settings</li><li>Creates aerodynamic model and VSM solver</li><li>Builds system structure based on the wing geometry</li><li>Assembles everything into a ready-to-use symbolic model</li></ul><p><strong>Arguments</strong></p><ul><li><code>set::Settings</code>: Configuration parameters (see <a href="https://ufechner7.github.io/KiteUtils.jl/stable/types/#KiteUtils.Settings">KiteUtils.Settings</a>)</li></ul><p><strong>Returns</strong></p><ul><li><code>SymbolicAWEModel</code>: Model ready for symbolic equation generation via <a href="../functions/#KiteModels.init_sim!"><code>init_sim!</code></a></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">set = se()  # Load default settings
model = SymbolicAWEModel(set)

# Initialize and run simulation
init_sim!(model)
for i in 1:1000
    next_step!(model)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/symbolic_awe_model.jl#L146-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Point-Tuple{Any, Any, Any}" href="#KiteModels.Point-Tuple{Any, Any, Any}"><code>KiteModels.Point</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Point(idx, pos_cad, type; wing_idx=1, vel_w=zeros(KVec3), transform_idx=1)</code></pre><p>Constructs a Point object. A point can be of four different <a href="#KiteModels.DynamicsType"><code>DynamicsType</code></a>s:</p><ul><li><code>STATIC</code>: the point doesn&#39;t move. <span>$\ddot{\mathbf{r}} = \mathbf{0}$</span></li><li><code>DYNAMIC</code>: the point moves according to Newton&#39;s second law. <span>$\ddot{\mathbf{r}} = \mathbf{F}/m$</span></li><li><code>QUASI_STATIC</code>: the acceleration is constrained to be zero, by solving a nonlinear problem. <span>$\mathbf{F}/m = \mathbf{0}$</span></li><li><code>WING</code>: the point has a static position in the rigid body wing frame. <span>$\mathbf{r}_w = \mathbf{r}_{wing} + \mathbf{R}_{b\rightarrow w} \mathbf{r}_b$</span></li></ul><p>where:</p><ul><li><span>$\mathbf{r}$</span> is the point position vector</li><li><span>$\mathbf{F}$</span> is the net force acting on the point</li><li><span>$m$</span> is the point mass</li><li><span>$\mathbf{r}_w$</span> is the position in world frame</li><li><span>$\mathbf{r}_{wing}$</span> is the wing center position</li><li><span>$\mathbf{R}_{b\rightarrow w}$</span> is the rotation matrix from body to world frame</li><li><span>$\mathbf{r}_b$</span> is the position in body frame</li></ul><p><strong>Arguments</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the point.</li><li><code>pos_cad::KVec3</code>: Position of the point in the CAD frame.</li><li><code>type::DynamicsType</code>: Dynamics type of the point (STATIC, DYNAMIC, etc.).</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>wing_idx::Int16=1</code>: Index of the wing this point is attached to.</li><li><code>vel_w::KVec3=zeros(KVec3)</code>: Initial velocity of the point in world frame.</li><li><code>transform_idx::Int16=1</code>: Index of the transform used for initial positioning.</li></ul><p><strong>Returns</strong></p><ul><li><code>Point</code>: A new Point object.</li></ul><p><strong>Example</strong></p><p>To create a Point:</p><pre><code class="language-julia hljs">    point = Point(1, [1.0, 2.0, 3.0], DYNAMIC; wing_idx=1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L66-L102">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Point" href="#KiteModels.Point"><code>KiteModels.Point</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Point</code></pre><p>A point mass.</p><ul><li><p><code>idx::Int16</code></p></li><li><p><code>transform_idx::Int16</code></p></li><li><p><code>wing_idx::Int16</code></p></li><li><p><code>pos_cad::StaticArraysCore.MVector{3, Float64}</code></p></li><li><p><code>pos_b::StaticArraysCore.MVector{3, Float64}</code></p></li><li><p><code>pos_w::StaticArraysCore.MVector{3, Float64}</code></p></li><li><p><code>vel_w::StaticArraysCore.MVector{3, Float64}</code></p></li><li><p><code>type::DynamicsType</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L48-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Group-Tuple{Any, Any, RamAirWing, Any, Any, Any}" href="#KiteModels.Group-Tuple{Any, Any, RamAirWing, Any, Any, Any}"><code>KiteModels.Group</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Group(idx, point_idxs, vsm_wing::RamAirWing, gamma, type, moment_frac)</code></pre><p>Constructs a Group object representing a collection of points on a kite body that share  a common twist deformation.</p><p>A Group models the local deformation of a kite wing section through twist dynamics.  All points within a group undergo the same twist rotation about the chord vector.</p><p>The governing equation is:</p><p class="math-container">\[\begin{aligned}
\tau = \underbrace{\sum_{i=1}^{4} r_{b,i} \times (\mathbf{F}_{b,i} \cdot \hat{\mathbf{z}})}_{\text{bridles}} + \underbrace{r_a \times (\mathbf{F}_a \cdot \hat{\mathbf{z}})}_{\text{aero}}
\end{aligned}\]</p><p><img src="../group-slice.svg" alt="System Overview"/></p><p>where:</p><ul><li><span>$\tau$</span> is the total torque about the twist axis</li><li><span>$r_{b,i}$</span> is the position vector of bridle point <span>$i$</span> relative to the twist center</li><li><span>$\mathbf{F}_{b,i}$</span> is the force at bridle point <span>$i$</span></li><li><span>$\hat{\mathbf{z}}$</span> is the unit vector along the twist axis (chord direction)</li><li><span>$r_a$</span> is the position vector of the aerodynamic center relative to the twist center</li><li><span>$\mathbf{F}_a$</span> is the aerodynamic force at the group&#39;s aerodynamic center</li></ul><p>The group can have two <a href="#KiteModels.DynamicsType"><code>DynamicsType</code></a>s:</p><ul><li><code>DYNAMIC</code>: the group rotates according to Newton&#39;s second law: <span>$I\ddot{\theta} = \tau$</span></li><li><code>QUASI_STATIC</code>: the rotational acceleration is zero: <span>$\tau = 0$</span></li></ul><p><strong>Arguments</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the group</li><li><code>point_idxs::Vector{Int16}</code>: Indices of points that move together with this group&#39;s twist</li><li><code>vsm_wing::RamAirWing</code>: Wing geometry object used to extract local chord and spanwise vectors</li><li><code>gamma</code>: Spanwise parameter (typically -1 to 1) defining the group&#39;s location along the wing</li><li><code>type::DynamicsType</code>: Dynamics type (DYNAMIC for time-varying twist, QUASI_STATIC for equilibrium)</li><li><code>moment_frac::SimFloat</code>: Chordwise position (0=leading edge, 1=trailing edge) about which the group rotates</li></ul><p><strong>Returns</strong></p><ul><li><code>Group</code>: A new Group object with twist dynamics capability</li></ul><p><strong>Example</strong></p><p>Create a group at mid-span with quarter of the wing moment:</p><pre><code class="language-julia hljs">  group = Group(1, [1, 2, 3], vsm_wing, 0.0, DYNAMIC, 0.25)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L126-L172">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Group" href="#KiteModels.Group"><code>KiteModels.Group</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Group</code></pre><p>Set of bridle lines that share the same twist angle and trailing edge angle.</p><ul><li><p><code>idx::Int16</code></p></li><li><p><code>point_idxs::Vector{Int16}</code></p></li><li><p><code>le_pos::StaticArraysCore.MVector{3, Float64}</code></p></li><li><p><code>chord::StaticArraysCore.MVector{3, Float64}</code></p></li><li><p><code>y_airf::StaticArraysCore.MVector{3, Float64}</code></p></li><li><p><code>type::DynamicsType</code></p></li><li><p><code>moment_frac::Float64</code></p></li><li><p><code>twist::Float64</code></p></li><li><p><code>twist_vel::Float64</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L107-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Segment-Tuple{Any, Any, Any}" href="#KiteModels.Segment-Tuple{Any, Any, Any}"><code>KiteModels.Segment</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Segment(idx, point_idxs, type; l0=zero(SimFloat), compression_frac=0.1)</code></pre><p>Constructs a Segment object representing an elastic spring-damper connection between two points.</p><p>The segment follows Hooke&#39;s law with damping and aerodynamic drag:</p><p><strong>Spring-Damper Force:</strong></p><p class="math-container">\[\mathbf{F}_{spring} = \left[k(l - l_0) - c\dot{l}\right]\hat{\mathbf{u}}\]</p><p><strong>Aerodynamic Drag:</strong></p><p class="math-container">\[\mathbf{F}_{drag} = \frac{1}{2}\rho C_d A |\mathbf{v}_a| \mathbf{v}_{a,\perp}\]</p><p><strong>Total Force:</strong></p><p class="math-container">\[\mathbf{F}_{total} = \mathbf{F}_{spring} + \mathbf{F}_{drag}\]</p><p>where:</p><ul><li><span>$k = \frac{E \pi d^2/4}{l}$</span> is the axial stiffness</li><li><span>$l$</span> is current length, <span>$l_0$</span> is unstretched length</li><li><span>$c = \frac{\xi}{c_{spring}} k$</span> is damping coefficient</li><li><span>$\hat{\mathbf{u}} = \frac{\mathbf{r}_2 - \mathbf{r}_1}{l}$</span> is unit vector along segment</li><li><span>$\dot{l} = (\mathbf{v}_1 - \mathbf{v}_2) \cdot \hat{\mathbf{u}}$</span> is extension rate</li><li><span>$\mathbf{v}_{a,\perp}$</span> is apparent wind velocity perpendicular to segment</li></ul><p><strong>Arguments</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the segment.</li><li><code>point_idxs::Tuple{Int16, Int16}</code>: Tuple containing the indices of the two points connected by this segment.</li><li><code>type::SegmentType</code>: Type of the segment (POWER<em>LINE, STEERING</em>LINE, BRIDLE).</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>l0::SimFloat=zero(SimFloat)</code>: Unstretched length of the segment. Calculated from point positions if zero.</li><li><code>compression_frac::SimFloat=0.1</code>: Compression fraction of stiffness for compression behavior.</li></ul><p><strong>Returns</strong></p><ul><li><code>Segment</code>: A new Segment object.</li></ul><p><strong>Example</strong></p><p>To create a Segment:</p><pre><code class="language-julia hljs">    segment = Segment(1, (1, 2), BRIDLE; l0=10.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L207-L254">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Segment" href="#KiteModels.Segment"><code>KiteModels.Segment</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Segment</code></pre><p>A segment from one point index to another point index.</p><ul><li><p><code>idx::Int16</code></p></li><li><p><code>point_idxs::Tuple{Int16, Int16}</code></p></li><li><p><code>type::SegmentType</code></p></li><li><p><code>l0::Float64</code></p></li><li><p><code>compression_frac::Float64</code></p></li><li><p><code>diameter::Float64</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L191-L197">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Pulley-Tuple{Any, Any, Any}" href="#KiteModels.Pulley-Tuple{Any, Any, Any}"><code>KiteModels.Pulley</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Pulley(idx, segment_idxs, type)</code></pre><p>Constructs a Pulley object that enforces length redistribution between two segments.</p><p>The pulley constraint maintains constant total length while allowing force transmission:</p><p><strong>Constraint Equations:</strong></p><p class="math-container">\[l_1 + l_2 = l_{total} = \text{constant}\]</p><p><strong>Force Balance:</strong></p><p class="math-container">\[F_{pulley} = F_1 - F_2\]</p><p><strong>Dynamics:</strong></p><p class="math-container">\[m\ddot{l}_1 = F_{pulley} = F_1 - F_2\]</p><p>where:</p><ul><li><span>$l_1, l_2$</span> are the lengths of connected segments</li><li><span>$F_1, F_2$</span> are the spring forces in the segments  </li><li><span>$m = \rho_{tether} \pi (d/2)^2 l_{total}$</span> is the total mass of both segments</li><li><span>$\dot{l}_1 + \dot{l}_2 = 0$</span> (velocity constraint)</li></ul><p>The pulley can have two <a href="#KiteModels.DynamicsType"><code>DynamicsType</code></a>s:</p><ul><li><code>DYNAMIC</code>: the length redistribution follows Newton&#39;s second law: <span>$m\ddot{l}_1 = F_1 - F_2$</span></li><li><code>QUASI_STATIC</code>: the forces are balanced instantaneously: <span>$F_1 = F_2$</span></li></ul><p><strong>Arguments</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the pulley.</li><li><code>segment_idxs::Tuple{Int16, Int16}</code>: Tuple containing the indices of the two segments connected by this pulley.</li><li><code>type::DynamicsType</code>: Dynamics type of the pulley (DYNAMIC or QUASI_STATIC).</li></ul><p><strong>Returns</strong></p><ul><li><code>Pulley</code>: A new Pulley object.</li></ul><p><strong>Example</strong></p><p>To create a Pulley:</p><pre><code class="language-julia hljs">    pulley = Pulley(1, (1, 2), DYNAMIC)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L275-L320">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Pulley" href="#KiteModels.Pulley"><code>KiteModels.Pulley</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Pulley</code></pre><p>A pulley described by two segments with the common point of the segments being the pulley.</p><ul><li><p><code>idx::Int16</code></p></li><li><p><code>segment_idxs::Tuple{Int16, Int16}</code></p></li><li><p><code>type::DynamicsType</code></p></li><li><p><code>sum_length::Float64</code></p></li><li><p><code>length::Float64</code></p></li><li><p><code>vel::Float64</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L259-L265">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Tether" href="#KiteModels.Tether"><code>KiteModels.Tether</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Tether(idx, segment_idxs)</code></pre><p>Constructs a Tether object representing a flexible line composed of multiple segments.</p><p>A tether enforces a shared unstretched length constraint across all its constituent segments:</p><p><strong>Length Constraint:</strong></p><p class="math-container">\[\sum_{i \in \text{segments}} l_{0,i} = L\]</p><p><strong>Winch Control:</strong> The unstretched tether length is controlled by winch acceleration:</p><p class="math-container">\[\ddot L = \alpha(v, F, u)\]</p><p>where:</p><ul><li><span>$L$</span> is the tether length</li><li><span>$l_{0,i}$</span> is the segment unstretched length</li><li><span>$\alpha(v, F, u)$</span> is the winch acceleration function depending on model type</li></ul><p><strong>Arguments</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the tether</li><li><code>segment_idxs::Vector{Int16}</code>: Indices of segments that form this tether</li></ul><p><strong>Returns</strong></p><ul><li><code>Tether</code>: A new Tether object</li></ul><p><strong>Example</strong></p><p>Create a tether from segments 1, 2, and 3:</p><pre><code class="language-julia hljs">    tether = Tether(1, [1, 2, 3])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L325-L360">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Winch-NTuple{4, Any}" href="#KiteModels.Winch-NTuple{4, Any}"><code>KiteModels.Winch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Winch(idx, model, tether_idxs, tether_length; tether_vel=0.0)</code></pre><p>Constructs a Winch object that controls tether length through torque or speed regulation.</p><p><strong>Tether Length Control:</strong></p><p class="math-container">\[\ddot{L} = \alpha(v, F, u)\]</p><p>where:</p><ul><li><span>$L$</span> is the tether length</li><li><span>$v$</span> is the reel out velocity (tether extension rate)</li><li><span>$F$</span> is the tether force</li><li><span>$u$</span> is the applied torque or speed setpoint</li><li><span>$\alpha(v, F, u)$</span> is the winch acceleration function depending on model type</li></ul><p>where the winch acceleration function <code>f_winch</code> depends on the winch model type:</p><ul><li><strong>Torque-controlled</strong>: Direct torque input with motor dynamics</li><li><strong>Speed-controlled</strong>: Velocity regulation with internal control loops</li></ul><p>For detailed mathematical models of winch dynamics, motor characteristics, and control algorithms,  see the <a href="https://github.com/aenarete/WinchModels.jl/blob/main/docs/winch.md">WinchModels.jl documentation</a>.</p><p><strong>Arguments</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the winch.</li><li><code>model::AbstractWinchModel</code>: The winch model (TorqueControlledMachine, AsyncMachine, etc.).</li><li><code>tether_idxs::Vector{Int16}</code>: Vector containing the indices of the tethers connected to this winch.</li><li><code>tether_length::SimFloat</code>: Initial tether length.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>tether_vel::SimFloat=0.0</code>: Initial tether velocity (reel-out rate).</li></ul><p><strong>Returns</strong></p><ul><li><code>Winch</code>: A new Winch object.</li></ul><p><strong>Example</strong></p><p>To create a Winch:</p><pre><code class="language-julia hljs">    winch = Winch(1, TorqueControlledMachine(set), [1, 2], 100.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L381-L421">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Winch" href="#KiteModels.Winch"><code>KiteModels.Winch</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Winch</code></pre><p>A set of tethers or just one tether connected to a winch.</p><ul><li><p><code>idx::Int16</code></p></li><li><p><code>model::AbstractWinchModel</code></p></li><li><p><code>tether_idxs::Vector{Int16}</code></p></li><li><p><code>tether_length::Float64</code></p></li><li><p><code>tether_vel::Float64</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L366-L372">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Wing-NTuple{4, Any}" href="#KiteModels.Wing-NTuple{4, Any}"><code>KiteModels.Wing</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Wing(idx, group_idxs, R_b_c, pos_cad; transform_idx=1, angular_vel=zeros(KVec3), 
     pos_w=zeros(KVec3), vel_w=zeros(KVec3))</code></pre><p>Constructs a Wing object representing a rigid body that serves as a reference frame for attached points and groups.</p><p>A Wing provides a rigid body coordinate system for kite components. Points with <code>type == WING</code> move rigidly  with the wing body according to the wing&#39;s orientation matrix and position. Groups attached to the wing  undergo local deformation (twist) relative to the rigid wing body frame.</p><p><strong>Rigid Body Dynamics:</strong> The wing follows standard rigid body equations of motion:</p><p class="math-container">\[\begin{aligned}
\frac{\delta \mathbf{q}_b^w}{\delta t} &amp;= \frac{1}{2} \Omega(\boldsymbol{\omega}_b) \mathbf{q}_b^w \\
\boldsymbol{\tau}_w &amp;= \mathbf{I} \frac{\delta \boldsymbol{\omega}}{\delta t} + \boldsymbol{\omega}_b \times (\mathbf{I}\boldsymbol{\omega}_b)
\end{aligned}\]</p><p>where:</p><ul><li><span>$\mathbf{q}_b^w$</span> is the quaternion from world to body frame</li><li><span>$\boldsymbol{\omega}_b$</span> is the angular velocity in body frame</li><li><span>$\Omega(\boldsymbol{\omega}_b)$</span> is the quaternion multiplication matrix</li><li><span>$\mathbf{I}$</span> is the inertia tensor in body frame</li><li><span>$\boldsymbol{\tau}_w$</span> is the total applied torque to the rigid wing body (aerodynamic + tether forces)</li></ul><p><strong>Coordinate Transformations:</strong> Points attached to the wing transform as:</p><p class="math-container">\[\mathbf{r}_w = \mathbf{r}_{w} + \mathbf{R}_{b \rightarrow w} \mathbf{r}_b\]</p><p>where:</p><ul><li><span>$\mathbf{r}_w$</span> is the position in world frame</li><li><span>$\mathbf{r}_{w}$</span> is the wing position in world frame</li><li><span>$\mathbf{R}_{b \rightarrow w}$</span> is the rotation from body to world frame</li><li><span>$\mathbf{r}_b$</span> is the point position in body frame</li></ul><p><strong>Arguments</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the wing</li><li><code>group_idxs::Vector{Int16}</code>: Indices of groups attached to this wing that can deform relative to the body</li><li><code>R_b_c::Matrix{SimFloat}</code>: Rotation matrix from body frame to CAD frame (3×3 orthogonal matrix)</li><li><code>pos_cad::KVec3</code>: Position of wing center of mass in CAD frame</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>transform_idx::Int16=1</code>: Transform used for initial positioning and orientation</li><li><code>angular_vel::KVec3=zeros(KVec3)</code>: Initial angular velocity of the wing in world frame</li><li><code>pos_w::KVec3=zeros(KVec3)</code>: Initial position of wing center of mass in world frame</li><li><code>vel_w::KVec3=zeros(KVec3)</code>: Initial velocity of wing center of mass in world frame</li></ul><p><strong>Special Properties</strong></p><p>The wing orientation can be accessed as a quaternion:</p><pre><code class="language-julia hljs">  quat = wing.orient  # Returns quaternion representation of R_b_c</code></pre><p><strong>Returns</strong></p><ul><li><code>Wing</code>: A new Wing object providing a rigid body reference frame</li></ul><p><strong>Example</strong></p><p>Create a wing with identity orientation and two attached groups:</p><pre><code class="language-julia hljs">  R_b_c = I(3) # identity matrix
  pos_cad = [0.0, 0.0, 0.0]
  wing = Wing(1, [1, 2], R_b_c, pos_cad)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L470-L537">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Wing" href="#KiteModels.Wing"><code>KiteModels.Wing</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Wing</code></pre><p>A rigid wing body that can have multiple groups of points attached to it.</p><p><strong>Fields</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the wing</li><li><code>group_idxs::Vector{Int16}</code>: Indices of groups attached to this wing</li><li><code>transform_idx::Int16</code>: Transform used for initial positioning and orientation</li><li><code>R_b_c::Matrix{SimFloat}</code>: Rotation matrix from body frame to CAD frame</li><li><code>angular_vel::KVec3</code>: Angular velocity of the wing in world frame</li><li><code>pos_w::KVec3</code>: Position of wing center of mass in world frame</li><li><code>pos_cad::KVec3</code>: Position of wing center of mass in CAD frame</li><li><code>vel_w::KVec3</code>: Velocity of wing center of mass in world frame</li></ul><p>The wing provides a rigid body reference frame for attached points and groups. Points with <code>type == WING</code> move rigidly with the wing body according to the wing&#39;s orientation matrix <code>R_b_c</code> and position <code>pos_w</code>.</p><p><strong>Extended help</strong></p><p>The wing&#39;s orientation can be accessed as a quaternion through the <code>orient</code> property:</p><pre><code class="language-julia hljs">wing = Wing(1, [1,2], I(3), zeros(3))
quat = wing.orient  # Returns quaternion representation of R_b_c</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L426-L451">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Transform-NTuple{4, Any}" href="#KiteModels.Transform-NTuple{4, Any}"><code>KiteModels.Transform</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Transform(idx, elevation, azimuth, heading; 
    base_point_idx=nothing, base_pos=nothing, base_transform_idx=nothing, 
    wing_idx=nothing, rot_point_idx=nothing)</code></pre><p>Constructs a Transform object that orients system components using spherical coordinates.</p><p><strong>All points and wings with matching <code>transform_idx</code> are transformed together as a rigid body:</strong></p><ol><li><strong>Translation</strong>: Translate such that base is at specified base pos</li><li><strong>Rotation 1</strong>: Rotate so target is at (elevation, azimuth) relative to base</li><li><strong>Rotation 2</strong>: Rotate all components by <code>heading</code> around the base-target vector</li></ol><p class="math-container">\[\mathbf{r}_{transformed} = \mathbf{r}_{base} + \mathbf{R}_{heading} \circ \mathbf{R}_{elevation,azimuth}(\mathbf{r} - \mathbf{r}_{base})\]</p><p><strong>Arguments</strong></p><ul><li><code>idx::Int16</code>: Unique identifier for the transform</li><li><code>elevation::SimFloat</code>: Target elevation angle from base (radians)</li><li><code>azimuth::SimFloat</code>: Target azimuth angle from base (radians)  </li><li><code>heading::SimFloat</code>: Rotation around base-target vector (radians)</li></ul><p><strong>Keyword Arguments</strong></p><p><strong>Base Reference (choose one):</strong></p><ul><li><code>base_pos + base_point_idx</code>: Fixed position and reference point</li><li><code>base_transform_idx</code>: Chain to another transform&#39;s position</li></ul><p><strong>Target Object (choose one):</strong></p><ul><li><code>wing_idx</code>: Wing to position at (elevation, azimuth)</li><li><code>rot_point_idx</code>: Point to position at (elevation, azimuth)</li></ul><p><strong>Returns</strong></p><ul><li><code>Transform</code>: Transform affecting all components with matching <code>transform_idx</code></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Position wing and all associated points at 45° elevation, 30° azimuth
transform = Transform(1, deg2rad(45), deg2rad(30), 0.0; 
                     base_pos=[0,0,0], base_point_idx=1, wing_idx=1)

# Chain transforms for multi-kite systems
transform2 = Transform(2, deg2rad(30), deg2rad(45), deg2rad(10); 
                      base_transform_idx=1, wing_idx=2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L563-L607">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.Transform" href="#KiteModels.Transform"><code>KiteModels.Transform</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Transform</code></pre><p>Describes the spatial transformation (position and orientation) of system components relative to a base reference point.</p><ul><li><p><code>idx::Int16</code></p></li><li><p><code>wing_idx::Union{Nothing, Int16}</code></p></li><li><p><code>rot_point_idx::Union{Nothing, Int16}</code></p></li><li><p><code>base_point_idx::Union{Nothing, Int16}</code></p></li><li><p><code>base_transform_idx::Union{Nothing, Int16}</code></p></li><li><p><code>elevation::Float64</code></p></li><li><p><code>azimuth::Float64</code></p></li><li><p><code>heading::Float64</code></p></li><li><p><code>base_pos::Union{Nothing, StaticArraysCore.MVector{3, Float64}}</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/system_structure.jl#L543-L550">source</a></section></article><h2 id="Private-functions"><a class="docs-heading-anchor" href="#Private-functions">Private functions</a><a id="Private-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Private-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.wing_eqs!" href="#KiteModels.wing_eqs!"><code>KiteModels.wing_eqs!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">wing_eqs!(s, eqs, defaults; kwargs...)</code></pre><p>Generate the differential equations for wing dynamics including quaternion kinematics, angular velocities and accelerations, and forces/moments.</p><p><strong>Arguments</strong></p><ul><li><code>s::SymbolicAWEModel</code>: The wing system state</li><li><code>eqs</code>: Current system equations  </li><li><code>defaults</code>: Default values for variables</li><li><code>tether_wing_force</code>: Forces from tethers on wing</li><li><code>tether_wing_moment</code>: Moments from tethers on wing</li><li><code>aero_force_b</code>: Aerodynamic forces in body frame</li><li><code>aero_moment_b</code>: Aerodynamic moments in body frame</li><li><code>ω_b</code>: Angular velocity in body frame</li><li><code>R_b_w</code>: Body to world rotation matrix</li><li><code>wing_pos</code>: Kite position vector</li><li><code>wing_vel</code>: Kite velocity vector</li><li><code>wing_acc</code>: Kite acceleration vector</li><li><code>stabilize</code>: Whether in stabilize mode</li></ul><p><strong>Returns</strong></p><p>Tuple of updated equations and defaults</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/mtk_model.jl#L566-L589">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.reinit!" href="#KiteModels.reinit!"><code>KiteModels.reinit!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reinit!(s::SymbolicAWEModel, solver; prn=true, precompile=false) -&gt; Nothing</code></pre><p>Reinitialize an existing kite power system model with new state values. The new state is coming from the init section of the settings, stored in the struct <code>s.set</code>.</p><p>This function performs the following operations:</p><ol><li>If no integrator exists yet:<ul><li>Loads a serialized ODEProblem from disk</li><li>Initializes a new ODE integrator </li><li>Generates getter/setter functions for the system</li></ul></li><li>Converts initial settings to quaternion orientation</li><li>Initializes the point mass system with new positions</li><li>Sets initial values for all state variables</li><li>Reinitializes the ODE integrator</li><li>Updates the linearized aerodynamic model</li></ol><p>This is more efficient than <code>init!</code> as it reuses the existing model structure and only updates the state variables to match the current initial settings.</p><p><strong>Arguments</strong></p><ul><li><code>s::SymbolicAWEModel</code>: The kite power system state object</li><li><code>solver</code>: The solver to be used</li><li><code>prn::Bool=true</code>: Whether to print progress information</li></ul><p><strong>Returns</strong></p><ul><li><code>Nothing</code></li></ul><p><strong>Throws</strong></p><ul><li><code>ArgumentError</code>: If no serialized problem exists (run <code>init_sim!</code> first)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/symbolic_awe_model.jl#L370-L401">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.scalar_eqs!" href="#KiteModels.scalar_eqs!"><code>KiteModels.scalar_eqs!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scalar_eqs!(s, eqs; R_b_w, wind_vec_gnd, va_wing_b, wing_pos, wing_vel, wing_acc, twist_angle, twist_ω)</code></pre><p>Generate equations for scalar quantities like elevation, azimuth, heading and course angles.</p><pre><code class="nohighlight hljs"># Arguments
- `s::SymbolicAWEModel`: The wing system state
- `eqs`: Current system equations
- `R_b_w`: Body to world rotation matrix
- `wind_vec_gnd`: Ground wind vector
- `va_wing_b`: Apparent wind velocity in body frame
- `wing_pos`: Kite position vector
- `wing_vel`: Kite velocity vector
- `wing_acc`: Kite acceleration vector

# Returns
- Updated system equations including:
- Heading angle from x-axis
- Elevation angle
- Azimuth angle
- Course angle
- Angular velocities and accelerations</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/mtk_model.jl#L695-L717">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.linear_vsm_eqs!" href="#KiteModels.linear_vsm_eqs!"><code>KiteModels.linear_vsm_eqs!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>linear<em>vsm</em>eqs!(s, eqs; aero<em>force</em>b, aero<em>moment</em>b, group<em>aero</em>moment, init<em>va</em>b, twist<em>angle, va</em>wing<em>b, ω</em>b)</p><p>Generate linearized aerodynamic equations using the Vortex Step Method (VSM). Uses linearization around current operating point to approximate aerodynamic forces and moments. The Jacobian is computed using the VSM solver.</p><p><strong>Arguments</strong></p><ul><li><code>s::SymbolicAWEModel</code>: The wing system state</li><li><code>eqs</code>: Current system equations</li><li><code>aero_force_b</code>: Aerodynamic forces in body frame</li><li><code>aero_moment_b</code>: Aerodynamic moments in body frame </li><li><code>group_aero_moment</code>: Aerodynamic moments per group</li><li><code>init_va_b</code>: Initial apparent wind velocity</li><li><code>twist_angle</code>: Twist angles per group</li><li><code>va_wing_b</code>: Apparent wind velocity in body frame</li><li><code>ω_b</code>: Angular velocity in body frame</li></ul><p><strong>Returns</strong></p><ul><li>Updated system equations including linearized aerodynamics:</li><li>Force and moment calculations</li><li>Group moment distributions</li><li>Jacobian matrix for state derivatives</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/mtk_model.jl#L812-L835">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KiteModels.force_eqs!" href="#KiteModels.force_eqs!"><code>KiteModels.force_eqs!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">force_eqs!(s, system, eqs, defaults, guesses; kwargs...)</code></pre><p>Generate the force equations for the wing system including spring forces, drag forces, pulley dynamics and winch forces.</p><p><strong>Arguments</strong></p><ul><li><code>s::SymbolicAWEModel</code>: The wing system state</li><li><code>system::SystemStructure</code>: The point mass representation</li><li><code>eqs</code>: Current system equations</li><li><code>defaults</code>: Default values for variables</li><li><code>guesses</code>: Initial guesses for variables</li><li><code>R_b_w</code>: Body to world rotation matrix</li><li><code>wing_pos</code>: Kite position vector</li><li><code>wing_vel</code>: Kite velocity vector  </li><li><code>wind_vec_gnd</code>: Ground wind vector</li><li><code>group_aero_moment</code>: Aerodynamic moments per group</li><li><code>twist_angle</code>: Twist angles per group</li><li><code>stabilize</code>: Whether in stabilize mode</li></ul><p><strong>Returns</strong></p><p>Tuple containing:</p><ul><li>Updated equations</li><li>Updated defaults</li><li>Updated guesses</li><li>Tether forces on wing</li><li>Tether moments on wing</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OpenSourceAWE/KiteModels.jl/blob/427593ba818ea86bd612248a7b93818beb9b6bcd/src/mtk_model.jl#L76-L103">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../functions/">« Functions</a><a class="docs-footer-nextpage" href="../parameters/">Parameters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Monday 7 July 2025 20:19">Monday 7 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
